<!DOCTYPE html>
<html ng-app='sampleApp'>

<head>
  <!-- Theme CSS, default to light color scheme -->
  <link id="theme" type="text/css" href="css/light-main.css" rel="stylesheet">

  <!-- Load d3.js & color scale-->
  <script TYPE="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script TYPE="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v2.min.js"></script>

  <!-- Routing js -->
  <script data-require="angular.js@1.4.x" src="https://code.angularjs.org/1.4.9/angular.js" data-semver="1.4.9"></script>
  <script data-require="angular.js@1.4.x" src="https://code.angularjs.org/1.4.9/angular-route.js" data-semver="1.4.9"></script>
  <script src="js/route-config.js"></script>
  <script src="js/endurance.js"></script>
  <script src="js/headerController.js"></script>

  <!-- Custom Fonts -->
  <script src="https://kit.fontawesome.com/b89efab99d.js" crossorigin="anonymous"></script>
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
</head>

<body>
   <!-- Navigation -->
  <div class="navbar-container">
    <nav class="navbar" ng-controller="HeaderController">
        <ul>
          <li class="about" ng-class="{ active: isActive('/')}"><a href="#/">Harvey Barnhard</a></li>
          <li>
            <a class="mode-switch">
            <button id="theme-toggle" class="light">
                  <i class="fa fa-sun fa-2x"></i>
            </button>
          </a>
          </li>
          <li ng-class="{ active: isActive('/endurance')}"><a href="#/endurance">endurance</a></li>
          <li ng-class="{ active: isActive('/blog')}"><a href="#/blog">blog</a></li>
          <li ng-class="{ active: isActive('/projects')}"><a href="#/projects">projects</a></li>
          <li ng-class="{ active: isActive('/about')}"><a href="#/about">about</a></li>
        </ul>
    </nav>
  </div>


  <!-- Content Injection -->
  <div ng-view></div>

  <!-- Footer -->
  <footer class="footer-default">
    <ul>
        <li>
            <a href="https://github.com/harveybarnhard">
                <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </li>
        <li>
            <a href="https://strava.com/athletes/16562005">
                <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fab fa-strava fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </li>
    </ul>
  </footer>

  <!-- jQuery -->
  <script src="vendor/jquery/jquery.min.js"></script>

  <!-- Dark Mode -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {

      const themeStylesheet = document.getElementById('theme');
      const themeToggle = document.getElementById('theme-toggle');
      themeToggle.addEventListener('click', () => {
          // if it's light -> go dark
          if(themeToggle.className.includes('light')){
            document.querySelector(":root").style.setProperty('--main-bg-color', "#333333");
            document.querySelector(":root").style.setProperty('--accent-bg-color', "white");
            document.querySelector(":root").style.setProperty('--text-color', "white");
            themeToggle.innerHTML = '<i class="fa fa-moon-o fa-2x"></i>';
            themeToggle.className = 'dark';
          } else {
            // if it's dark -> go light
            themeStylesheet.href = 'css/light-main.css';
            document.querySelector(":root").style.setProperty('--main-bg-color', "white");
            document.querySelector(":root").style.setProperty('--accent-bg-color', "black");
            document.querySelector(":root").style.setProperty('--text-color', "#333333");
            themeToggle.innerHTML = '<i class="fa fa-sun fa-2x"></i>';
            themeToggle.className = 'light';
          }
      })
  })
</script>
</body>
</html>
